@model ComplianceAuditWeb.Models.AboutCompanyViewModel
@*@model dynamic*@
@{

    Layout = "~/Views/Shared/_Layout.cshtml";


}

@*<h2 class="ML15">Manage Group Company</h2>
    <ul class="breadcrumb ML15">
        <li><a href="">Group Management</a></li>
        <li> Group Company</li>
    </ul>*@
@if (Convert.ToInt32(Session["ParentCompanyID"]) == 0)

{
    <h2 class="ML15">Manage Group Company</h2>
    <ul class="breadcrumb ML15">
        <li><a href="/Common/dashboard?pid=6">Group Management</a></li>
        <li> Group Company</li>
    </ul>
}
else
{
    <h2 class="ML15">Manage Company</h2>
        <ul class="breadcrumb ML15">
            <li><a href="/Common/dashboard?pid=9">Company Management</a></li>
            <li> Company</li>
        </ul>
}
@using (Html.BeginForm())
{


    if (TempData["Success"] != null)
    {
        <center>
            <p class="alert alert-success" style="width:1000px" id=" successMessage">@TempData["Company"]@TempData["Success"]</p>
        </center>
    }
    <div class="pull-right fa fa-pull-right" style="font-size:large">
        @if (Convert.ToInt32(Session["ParentCompanyID"]) != 0)
        {

            @Html.ActionLink("Create Company", "AddCompany", new { Orgid = Model.ParentCompanyID })

            TempData["ParentCompanyID"] = Model.ParentCompanyID;

        }
    </div>

    <div class="mid_content_sec">
        <div class="col-xs-4 subSelect ">
            <img src="/UploadedFiles/@Model.CompanyLogo" alt="" style="height:200px;width:250px" />

        </div>
        <div class="col-xs-8 subSelect ">
            @if (Convert.ToInt32(Session["ParentCompanyID"]) == 0)
            {

                <div class="input-field">
                    @Html.Label("Group Company name")
                    @Html.TextBoxFor(m => m.CompanyName, new { @class = "inputMaterial ui - autocomplete - input" })
                </div>

            }
            else
            {
                @*<div class="col-xs-4 subSelect ">*@
                <div class="input-field">
                    @Html.Label("Compny name")
                    @Html.TextBoxFor(m => m.CompanyName, new { @class = "inputMaterial ui - autocomplete - input" })
                </div>

                @*</div>*@
            }
            @*@Html.Label("Company Name", new { @class = "floating-label" })




                <div class="col-xs-12 subSelect ">*@

            <div class="input-field">


                @Html.Label("Company Description", new { @class = "floating-label" })
                @Html.TextAreaFor(m => m.CompanyDescription, new { @class = "inputMaterial ui - autocomplete - input" })
            </div>
            <div class="clearfix"></div>

            @Html.HiddenFor(m => m.CompanyID)
            @Html.HiddenFor(m => m.ParentCompanyID)

            @*</div>*@


        </div>
    </div>

    <ul class="list-inline continueBtn">

        @if (Convert.ToInt32(Session["ParentCompanyID"]) == 0)
        {
            <li>
                @Html.ActionLink("Modify", "UpdateGroupCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })
            </li>
            <li>
                @Html.ActionLink("Delete", "DeleteGroupCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })
                @if (Model.Is_Active == true)
                {
                    @Html.ActionLink("Deactivate", "DeactivateGroupCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })
                }

                else
                {
                    @Html.ActionLink("Activate", "ActivateGroupCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })

                }
            </li>
            <li>
                <input type="submit" value="Add Company" class="btn primary-button"><span class="ripple" style="width: 92.6094px; height: 92.6094px; top: 49.5px; left: -19.1875px;"></span>
            </li>
        }
        else
        {
            <li>
                @Html.ActionLink("Modify", "UpdateCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })
            </li>
            <li>
                @Html.ActionLink("Delete", "DeleteCompany", new { id = Model.CompanyID }, new { @class = "btn primary-button" })
                @if (Model.Is_Active == true)
                {
                    @Html.ActionLink("Deactivate", "DeactivateCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })
                }
                else
                {
                    @Html.ActionLink("Activate", "ActivateCompany", new { Orgid = Model.CompanyID }, new { @class = "btn primary-button" })

                }

            </li>
            <li>
                <input type="submit" value="Add Branch" class="btn primary-button"><span class="ripple" style="width: 92.6094px; height: 92.6094px; top: 49.5px; left: -19.1875px;"></span>
            </li>
            @*<input type="submit" value="Add Vendor" class="btn primary-button"><span class="ripple" style="width: 92.6094px; height: 92.6094px; top: 49.5px; left: -19.1875px;"></span>*@
            <li>
                @Html.ActionLink("Add Vendor", "AddVendor", new { id = Model.ParentCompanyID }, new { @class = "btn primary-button" })
            </li>
        }



    </ul>
    if (Model.AboutGroupCompany.Count > 0)


    {
        <h2 class="ML15">List of Companies</h2>
        <div class="pull-right fa fa-pull-right" style="font-size:large">
            @if (Convert.ToInt32(Session["ParentCompanyID"]) != 0)
            {

                @Html.ActionLink("Create Company", "AddCompany", new { Orgid = Model.ParentCompanyID })

                TempData["ParentCompanyID"] = Model.ParentCompanyID;

            }
        </div>
        <table class="table">
            <tr class="active">
                <th class="active">
                    @Html.DisplayName("Company Name")
                </th>
                <th>
                    @Html.DisplayName("Industry Type")
                </th>
                <th>
                    @Html.DisplayName("Logo")
                </th>
                <th>
                    @Html.DisplayName("Modify")
                </th>
                @*<th></th>*@
            </tr>

            @foreach (var item in Model.AboutGroupCompany)
            {
                <tr class="info">
                    <td class="active">
                        @*@Html.DisplayFor(modelItem => item.CompanyName)*@
                        @*@Html.DisplayFor(modelItem => item.GroupCompanyLogo)*@
                        @*<center>
                                @Html.DisplayFor(modelItem => item.OrganizationID)
                            </center>*@
                        <br />
                        <center>
                            @Html.ActionLink(item.CompanyNameList, "AboutCompany", new { id = item.OrganizationID })

                        </center>
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.OrganizationID)
                        </td>*@
                    <td>
                        <center>
                            @Html.DisplayFor(modelItem => item.IndustryType)
                        </center>
                    </td>

                    <td>
                        <center>
                            @Html.DisplayFor(modelItem => item.logo)
                        </center>
                    </td>
                    @*<td>
                            <center>
                                @Html.DisplayFor(modelItem => item.CountryID)
                            </center>
                        </td>*@
                    @if (Convert.ToInt32(Session["ParentCompanyID"]) == 0)
                    {
                        <td>


                            <center>

                                <a href="@Url.Action("UpdateCompany", "ManageOrganization", new { OrgID = item.OrganizationID })">

                                    <i class="fa fa-edit"></i>
                                </a>
                            </center>
                        </td>
                    }
                    @*else
                        {
                            <td>


                                <center>

                                    <a href="@Url.Action("UpdateBranch", "ManageOrganization", new { OrgID = item.OrganizationID })">

                                        <i class="fa fa-edit"></i>
                                    </a>
                                </center>
                            </td>
                        }*@
                </tr>
            }

        </table>
    }

    else if (Model.AboutCompany.Count > 0)
    {
        <h2 class="ML15">List of Branches</h2>
        <table class="table">
            <tr class="active">
                <th class="active">
                    @Html.DisplayName("Branch Name")
                </th>
                <th>
                    @Html.DisplayName("Branch Type")
                </th>
                <th>
                    @Html.DisplayName("Logo")
                </th>
                <th>
                    @Html.DisplayName("Modify")
                </th>
                @*<th></th>*@
            </tr>

            @foreach (var item in Model.AboutCompany)
            {
                <tr class="info">
                    <td class="active">
                        @*@Html.DisplayFor(modelItem => item.CompanyName)*@
                        @*@Html.DisplayFor(modelItem => item.GroupCompanyLogo)*@
                        @*<center>
                                @Html.DisplayFor(modelItem => item.OrganizationID)
                            </center>*@
                        <br />
                        <center>
                            @Html.ActionLink(item.CompanyNameList, "AboutBranch", new { id = item.OrganizationID })

                        </center>
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.OrganizationID)
                        </td>*@
                    <td>
                        <center>
                            @Html.DisplayFor(modelItem => item.IndustryType)
                        </center>
                    </td>

                    <td>
                        <center>
                            @Html.DisplayFor(modelItem => item.logo)
                        </center>
                    </td>
                    @*<td>
                            <center>
                                @Html.DisplayFor(modelItem => item.CountryID)
                            </center>
                        </td>*@
                    @*@if (Convert.ToInt32(Session["ParentCompanyID"]) == 0)
                        {*@
                    <td>


                        <center>

                            <a href="@Url.Action("UpdateCompany", "ManageOrganization", new { OrgID = item.OrganizationID })">

                                <i class="fa fa-edit"></i>
                            </a>
                        </center>
                    </td>

                    @*else
                        {
                            <td>


                                <center>

                                    <a href="@Url.Action("UpdateBranch", "ManageOrganization", new { OrgID = item.OrganizationID })">

                                        <i class="fa fa-edit"></i>
                                    </a>
                                </center>
                            </td>
                        }*@
                </tr>
            }

        </table>
        <h2 class="ML15">List of Vendors</h2>
        <table class="table">
            <tr class="active">
                <th class="active">
                    @Html.DisplayName("Vendor Name")
                </th>
                <th>
                    @Html.DisplayName("Vendor Type")
                </th>
                <th>
                    @Html.DisplayName("Logo")
                </th>
                <th>
                    @Html.DisplayName("Modify")
                </th>
                @*<th></th>*@
            </tr>

            @foreach (var item in Model.AboutBranch)
            {
                <tr class="info">
                    <td class="active">
                        @*@Html.DisplayFor(modelItem => item.CompanyName)*@
                        @*@Html.DisplayFor(modelItem => item.GroupCompanyLogo)*@
                        @*<center>
                                @Html.DisplayFor(modelItem => item.OrganizationID)
                            </center>*@
                        <br />
                        <center>
                            @Html.ActionLink(item.CompanyNameList, "AboutVendor", new { id = item.OrganizationID })

                        </center>
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.OrganizationID)
                        </td>*@
                    <td>
                        <center>
                            @Html.DisplayFor(modelItem => item.IndustryType)
                        </center>
                    </td>

                    <td>
                        <center>
                            @Html.DisplayFor(modelItem => item.logo)
                        </center>
                    </td>
                    @*<td>
                            <center>
                                @Html.DisplayFor(modelItem => item.CountryID)
                            </center>
                        </td>*@
                    @*@if (Convert.ToInt32(Session["ParentCompanyID"]) == 0)
                        {*@
                    <td>


                        <center>

                            <a href="@Url.Action("UpdateVendor", "ManageOrganization", new { OrgID = item.OrganizationID })">

                                <i class="fa fa-edit"></i>
                            </a>
                        </center>
                    </td>

                    @*else
                        {
                            <td>


                                <center>

                                    <a href="@Url.Action("UpdateBranch", "ManageOrganization", new { OrgID = item.OrganizationID })">

                                        <i class="fa fa-edit"></i>
                                    </a>
                                </center>
                            </td>
                        }*@
                </tr>
            }

        </table>
    }
    else
    {


        <center>
            @if (Model.AboutBranch.Count == 0 && Model.AboutCompany.Count == 0)
            {
                <p class="alert alert-success" style="width:1000px" id=" successMessageForList">@ViewBag.Message</p>                
            }
            else if (Model.AboutCompany.Count == 0)
            {
                <p class="alert alert-success" style="width:1000px" id=" successMessageForList">@ViewBag.Message</p>
            }
            else if (Model.AboutBranch.Count == 0)
            {
                <p class="alert alert-success" style="width:1000px" id=" successMessageForList">@ViewBag.MessageV</p>
            }
            else
            {
                <p class="alert alert-success" style="width:1000px" id=" successMessageForList">@ViewBag.Message</p>
            }
            @*<p class="alert alert-success" style="width:1000px" id=" successMessageForList">"No Companies Found!!!"</p>*@
        </center>

    }


}
}




